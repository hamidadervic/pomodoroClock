function secFun(a,b,d){window[b]>=1&&window[a]>=0&&(d.innerHTML=window[b]-1+":"+window[a],c.globalCompositeOperation="source-over",circleDraw(90),window[a]--,window[a]===-1&&window[b]-1>0&&(setTimeout(function(){restartCanvas(),circleDraw(90)},1e3),window[b]--,window[a]=59))}function pilim(a,b,d,e,f){"+"===a&&b.innerHTML>=1?(b.innerHTML="",window[e]++):"-"===a&&b.innerHTML>1&&(b.innerHTML="",window[e]--),b.innerHTML=window[e],d.innerHTML=window[e],window[f]=59,clearInterval(int1),color="#297A29",restartCanvas(),c.clearRect(110,90,80,40),c.font="20px Arial",c.fillText("Start",130,125),myArr=[]}function circleDraw(a){var b=float(circle);c.beginPath(),c.arc(can.width/2,can.height/2,a,0*Math.PI,b*Math.PI),c.strokeStyle=color,c.lineWidth=50,c.stroke(),circle+=.0333333333}function circleStroke(a,b){c.beginPath(),c.arc(can.width/2,can.height/2,a,0,2*Math.PI),c.strokeStyle=b,c.lineWidth=2,c.stroke()}function restartCanvas(){circle=0===myArr.length&&sec1===-1||59===sec1&&2.033333331330003==circle?0:.03333333333,c.clearRect(0,0,300,250),circleStroke(65,color),circleStroke(115,color),startOrStop()}function startOrStop(){var a;c.clearRect(110,90,80,40),c.font="20px Arial",a=1===myArr.length?"Stop":"Start",c.fillText(a,130,125)}function float(a){for(var b=parseFloat(a).toFixed(10),c=b.split(""),d=c.length-1,e=!0;e=0==c[d];)c.splice(d,1),d--,0!==c[d]&&("."==c[d]&&c.splice(d,1),e=!1);return Number(c.join(""))}var p1=document.getElementById("myP"),p2=document.getElementById("myP2"),sessDiv=document.getElementById("sess"),breDiv=document.getElementById("bre"),min1=sessDiv.innerHTML,sec1=59,sec2=59,min2=breDiv.innerHTML,int1,operClass=document.getElementsByClassName("oper"),operClass2=document.getElementsByClassName("oper2"),can=document.getElementById("myCanvas"),c=can.getContext("2d"),circle=.03333333333,color="#297A29";myArr=[],circleStroke(65,color),circleStroke(115,color),startOrStop(),can.addEventListener("click",function(){myArr.push(1),1===myArr.length&&sec2>-1?(startOrStop(),int1=setInterval(function(){min1>=1&&sec1>-1?(color="#297A29",secFun("sec1","min1",p1),1==min1&&sec1===-1&&(min2=breDiv.innerHTML,sec2=59,color="#A31F0A",setTimeout(function(){restartCanvas(),circleDraw(90)},1e3))):min2>=1&&sec2>=-1&&(secFun("sec2","min2",p2),1==min2&&sec2===-1&&(min1=sessDiv.innerHTML,color="#297A29",sec1=59,sec2=59,setTimeout(function(){restartCanvas(),circleDraw(90)},1e3)))},1e3)):(clearInterval(int1),sec2!==-1&&startOrStop(),myArr=[])});for(var i=0;i<operClass.length;i++)operClass[i].addEventListener("click",function(){pilim(this.innerHTML,p1,sessDiv,"min1","sec1"),sec2=59,p2.innerHTML=min2});for(var i=0;i<operClass2.length;i++)operClass2[i].addEventListener("click",function(){pilim(this.innerHTML,p2,breDiv,"min2","sec2"),sec1=59,p1.innerHTML=min1});